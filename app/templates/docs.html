<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>apiary</title>
</head>
<body>
  <script src="https://api.apiary.io/seeds/embed.js"></script>
  <script>
    var embed = new Apiary.Embed({
      apiBlueprint: "FORMAT: 1A\nHOST: https://primer-bucketlist.herokuapp.com/\n\n# BucketList-API\nThis is a Flask API for an online BucketList service.\n\nThis API requires token-based authentication to access resources.\nIt also has pagination and search capabilities on the resources requested.\n\nThe features attached to the service include:\n* user registration\n* authenticating a user\n* creating a new bucket list\n* updating and deleting bucket lists\n* retrieving a list of all created bucket lists by a registered user.\n* creating a new bucket list item\n* updating and deleting bucket list items\n* retrieving a list of all created bucket list items by a registered user.\n\n## Group User Authentication\n\n## Login [/api/v1/auth/login]\n\n### Authenticate a user and generate a token [POST]\n\nUse your correct email and password.\nNote the token returned on successful login. It is required to access other\nresources.\n\n+ Request (application/json)\n\n        {\n            \"username\": \"demo\",\n            \"password\": \"pass123\"\n        }\n\n+ Response 200 (application/json)\n\n        {\n            \"token\": \"ARandomtok3n\"\n        }\n\n## Group Resources\n\n## Registration [/api/v1/auth/register]\n\n### Register a new user [POST]\n\nYou may use any name or password combination for the registration.\n\n+ Request (application/json)\n\n        {\n            \"username\": \"jimmy\",\n            \"password\": \"pass123\"\n        }\n\n+ Response 201 (application/json)\n\n        {\n            \"message\": \"You have been successfully registered.\"\n        }\n\n\n## BucketList Resources [/api/v1/bucketlists/]\n\n### Create a new bucketlist [POST]\n\nCreate a new bucketlist by making a `POST` request to the `/api/v1/bucketlists/` path\n\n+ Request (application/json)\n\n    + Headers\n\n            Authorization: \"Token <Auth_token>\"\n\n    + Body\n\n            {\n                \"title\": \"Go on a cruise\"\n            }\n\n+ Response 201 (application/json)\n\n        {\n            \"message\": \"Bucketlist Learn how to swim has been added\"\n        }\n\n+ Response 400 (application/json)\n\n        {\n            \"message\": \"Invalid bucketlist title!\"\n        }\n\n+ Response 409 (application/json)\n\n        {\n            \"message\": \"Bucketlist already exists!\"\n        }\n\n### Retrieve all bucketlists [GET]\n\nRetrieve all BucketLists that are owned by the current user\n\nOptional request parameters:\n\n- `page` default is 1\n- `limit` default is 20\n\n+ Parameters\n\n    + page (optional, int) - the page to receive\n    + limit (optional, int) - the number of bucketlist results per page\n\n+ Request (application/json)\n\n    + Headers\n\n            Authorization: \"Token <auth_token>\"\n\n+ Response 200 (application/json)\n\n        {\n           \"id\": <id>,\n           \"title\": \"Learn how to swim\",\n           \"date_created\": \"Wed, 05 Jul 2017 10:02:03 GMT\"\n        }\n\n+ Response 401 (application/json)\n\n        {\n            \"message\": \"Please provide a valid auth token!\"\n        }\n\n+ Response 404 (application/json)\n\n        {\n            \"message\": \"Bucketlist cannot be found\"\n        }\n\n## Single BucketList Resource [/api/v1/bucketlists/<int:id>/]\n\n### Get a single bucketlist [GET]\n\nRetrieve a single bucketlist\n\n+ Request (application/json)\n\n    + Headers\n\n            Authorization: \"Token <JWT token>\"\n\n+ Response 200 (application/json)\n\n        {\n            \"id\": <id>,\n            \"title\": \"Learn how to swim\",\n            \"date_created\": \"Wed, 05 Jul 2017 10:02:03 GMT\"\n        }\n\n+ Response 401 (application/json)\n\n        {\n            \"message\": \"Please provide a valid auth token!\"\n        }\n\n+ Response 404 (application/json)\n\n        {\n            \"message\": \"Bucketlist cannot be found\"\n        }\n\n### Update a bucketlist [PUT]\n\nUpdate a single bucketlist\n\n+ Request (application/json)\n\n    + Headers\n\n            Authorization: \"Token <auth_token>\"\n\n    + Body\n\n            {\n                \"title\": \"Learn how to play golf\"\n            }\n\n+ Response 200 (application/json)\n\n      {\n          \"id\": <id>,\n          \"title\": \"Learn how to play golf\",\n          \"date_created\": \"Wed, 05 Jul 2017 10:02:03 GMT\"\n      }\n\n+ Response 404 (application/json)\n\n        {\n            \"message\": \"Bucketlist cannot be found\"\n        }\n\n+ Response 409 (application/json)\n\n        {\n            \"message\": \"No updates detected\"\n        }\n\n+ Response 401 (application/json)\n\n        {\n            \"message\": \"Please provide a valid auth token!\"\n        }\n\n### Delete a bucketlist [DELETE]\n\nDelete a single bucketlist\n\n+ Request (application/json)\n\n    + Headers\n\n            Authorization: \"Token <auth_token>\"\n\n+ Response 200 (application/json)\n\n        {\n            \"message\": \"Bucketlist successfully deleted!\"\n        }\n\n+ Response 401 (application/json)\n\n        {\n            \"message\": \"Please provide a valid auth token!\"\n        }\n\n+ Response 404 (application/json)\n\n        {\n            \"message\": \"Bucketlist cannot be found\"\n        }\n\n## BucketList Items Resources [/api/v1/bucketlists/<int:bucketlist_id>/items/]\n\n### Create a new bucketlist item [POST]\n\nCreate a new item in a bucketlist\n\n+ Request (application/json)\n\n    + Headers\n\n            Authorization: \"Token <auth_token>\"\n\n    + Body\n\n            {\n                \"name\": \"Item on golf\"\n                \"description\": \"Golf - Great sport\"\n            }\n\n+ Response 201 (application/json)\n\n        {\n            \"message\": \"Item Item on golf has been added\"\n        }\n\n+ Response 400 (application/json)\n\n        {\n            \"message\": \"Invalid name format\"\n        }\n\n+ Response 409 (application/json)\n\n        {\n            \"message\": \"Item already exists!\"\n        }\n\n+ Response 404 (application/json)\n\n        {\n            \"message\": \"Bucketlist cannot be found\"\n        }\n\n+ Response 401 (application/json)\n\n        {\n            \"message\": \"Please provide a valid auth token!\"\n        }\n\n### List all bucketlist item [GET]\n\nRetrieve all items in a bucketlist\n\nOptional request parameters:\n\n- `page` default is 1\n- `limit` default is 20\n\n+ Parameters\n\n    + page (optional, int) - the page to receive\n    + limit (optional, int) - the number of bucketlist item results per page\n\n+ Request (application/json)\n\n    + Headers\n\n            Authorization: \"Token <auth_token>\"\n\n+ Response 200 (application/json)\n\n        {\n            \"id\": <id>,\n            \"name\": \"Item on golf\",\n            \'description\': \"Golf - Great sport\",\n            \'status\': \"Not done\",\n            \'date_created\': \"Wed, 05 Jul 2017 10:02:03 GMT\",\n            \'bucketlist\': \"Learn how to play golf\"\n        }\n\n+ Response 404 (application/json)\n\n        {\n            \"message\": \"Bucketlist cannot be found\"\n        }\n\n+ Response 401 (application/json)\n\n        {\n            \"message\": \"Please provide a valid auth token!\"\n        }\n\n## Single BucketList Items Resources [/api/v1/bucketlists/<int:bucketlist_id>/items/<int:item_id>/]\n\n### Retrieve a single bucketlist item [GET]\n\nRetrieve a single item in a bucketlist\n\n+ Request (application/json)\n\n    + Headers\n\n            Authorization: \"Token <auth_token>\"\n\n+ Response 200 (application/json)\n\n        {\n            \"id\": <id>,\n            \"name\": \"Item on golf\",\n            \'description\': \"Golf - Great sport\",\n            \'status\': \"Not done\",\n            \'date_created\': \"Wed, 05 Jul 2017 10:02:03 GMT\",\n            \'bucketlist\': \"Learn how to play golf\"\n        }\n\n+ Response 404 (application/json)\n\n        {\n            \"message\": \"Bucketlist cannot be found\"\n        }\n\n+ Response 401 (application/json)\n\n        {\n            \"message\": \"Please provide a valid auth token!\"\n        }\n\n### Update a bucketlist item [PUT]\n\nUpdate a single bucketlist item\n\n+ Request (application/json)\n\n    + Headers\n\n            Authorization: \"Token <auth_token>\"\n\n    + Body\n\n            {\n                \"name\": \"Item1\",\n                \'description\': \"Golf - Great sport\"\n            }\n\n+ Response 201 (application/json)\n\n        {\n            \"id\": <id>,\n            \"name\": \"Item1\",\n            \'description\': \"Golf - Great sport\",\n            \'is_completed\': \"False\",\n            \'date_created\': \"Wed, 05 Jul 2017 10:02:03 GMT\",\n            \'date_modified\': \"Wed, 05 Jul 2017 10:02:03 GMT\"\n        }\n\n+ Response 409 (application/json)\n\n        {\n            \"message\": \"No updates detected\"\n        }\n\n+ Response 404 (application/json)\n\n        {\n            \"message\": \"Item be found\"\n        }\n\n+ Response 401 (application/json)\n\n        {\n            \"message\": \"Please provide a valid auth token!\"\n        }\n\n### Update a bucketlist item completion status [PATCH]\n\nUpdate bucketlist item is_completed attribute\n\n+ Request (application/json)\n\n    + Headers\n\n            Authorization: \"Token <auth_token>\"\n\n    + Body\n\n            {\n                \"is_completed\": \"true\"\n            }\n\n+ Response 200 (application/json)\n\n        {\n            \"id\": <id>,\n            \"name\": \"Item1\",\n            \'description\': \"Golf - Great sport\",\n            \'is_completed\': \"True\",\n            \'date_created\': \"Wed, 05 Jul 2017 10:02:03 GMT\",\n            \'date_modified\': \"Wed, 05 Jul 2017 10:02:03 GMT\"\n        }\n\n+ Response 409 (application/json)\n\n        {\n            \"message\": \"No updates detected\"\n        }\n\n+ Response 404 (application/json)\n\n        {\n            \"message\": \"Item be found\"\n        }\n\n+ Response 401 (application/json)\n\n        {\n            \"message\": \"Please provide a valid auth token!\"\n        }\n\n### Delete a single bucketlist item [DELETE]\n\nDelete a single bucketlist item\n\n+ Request (application/json)\n\n    + Headers\n\n            Authorization: \"Token <JWT token>\"\n\n+ Response 200 (application/json)\n\n        {\n            \"message\": \"Item succesfully deleted\"\n        }\n\n+ Response 401 (application/json)\n\n        {\n            \"message\": \"Please provide a valid auth token!\"\n        }\n\n+ Response 404 (application/json)\n\n        {\n            \"message\": \"Item not found\"\n        }"
    });

    if (false) {
        var changed = null
        var xhrChanged = new XMLHttpRequest();
        var xhrData = new XMLHttpRequest();
        setInterval(function() {
            xhrChanged.open('GET', window.location.href + "/changed", true);
            xhrChanged.send();

            xhrChanged.onreadystatechange = function() {
                if (xhrChanged.readyState == 4 && xhrChanged.status == 200) {
                    if (!changed) {
                        changed = xhrChanged.responseText
                    }
                    if (changed != xhrChanged.responseText) {
                        changed = xhrChanged.responseText
                        xhrData.open('GET', window.location.href + "/source", true);
                        xhrData.send();

                        xhrData.onreadystatechange = function() {
                            if (xhrData.readyState == 4 && xhrData.status == 200) {
                                embed.iframeElement.contentWindow.postMessage({"origin": embed.ORIGIN, "eventType": "anonymousPreview", "data": {"code": xhrData.responseText}}, '*');
                            }
                        }
                    }
                }
            }
        }, 1000);
    }
  </script>
</body>
</html>
